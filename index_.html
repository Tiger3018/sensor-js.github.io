<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- <link rel="icon" href="../../../../favicon.ico"> -->

    <title>The Web's Sixth Sense: A Study of Scripts Accessing Smartphone Sensors</title>
    <link href="https://sensor-js.xyz/assets/css/bootstrap.min.css" rel="stylesheet">

    <!-- CSS to customize styles -->
    <link href="https://sensor-js.xyz/assets/css/custom.css" rel="stylesheet">

	<script type="text/javascript" language="javascript" src="https://sensor-js.xyz/assets/js/jquery-1.9.1.min.js"></script>
	 <link rel="stylesheet" href="https://sensor-js.xyz/assets/css/jquery-ui.css" />
	<script src="https://sensor-js.xyz/assets/js/jquery-ui.min.js"></script>
		<style type="text/css" title="currentStyle">
		        @import "https://sensor-js.xyz/assets/css/demo_page.css";
		        @import "https://sensor-js.xyz/assets/css/demo_table.css";
		</style>

    <script src="https://sensor-js.xyz/assets/js/popper.min.js"></script>
    <script src="https://sensor-js.xyz/assets/js/bootstrap.min.js"></script>

    <script type="text/javascript" language="javascript" src="https://sensor-js.xyz/assets/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" charset="utf-8">

    	if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
			var msViewportStyle = document.createElement("style");
			msViewportStyle.appendChild(
				document.createTextNode(
					"@-ms-viewport{width:auto!important}"
				)
			);
			document.getElementsByTagName("head")[0].
				appendChild(msViewportStyle);
		}

   </script>
	 <script>
    // modified code from https://webtransparency.cs.princeton.edu/webcensus/canvas_scripts.html
		// TODO: uncomment the sensor-js.xyz URL
    //$.get('https://sensor-js.xyz/assets/sensor-accessing-script-domain-feats.csv', function(data) {
    $.get('https://raw.githubusercontent.com/sensor-js/sensor-js.github.io/master/assets/sensor-accessing-script-domain-feats.csv', function(data) {

			// start the table
			var html = '<table id ="sensor_js_urls" class="data-table table table-striped table-bordered">';
      html += '<thead><tr><th>Sensor-accessing domain</th><th>Sensors</th><th>Found on (top 3 sites)</th><th>Total Sites</th><th>Prominence</th></tr></thead>';
			// split into lines
			var rows = data.split("\n");

		  html+='<tbody>'
			// parse lines
			rows.forEach( function getvalues(ourrow) {
				// split line into columns
				var columns = ourrow.split("\t");
        if (columns.length < 4) { return; }
				// start a table row
				html += "<tr>";
				html += "<td>" + columns[0] + "</td>";
				html += "<td>" + columns[1] + "</td>";
				html += "<td>" + columns[2] + "</td>";
				html += "<td>" + columns[3] + "</td>";
        html += "<td>" + columns[4] + "</td>";

				// close row
				html += "</tr>";
			})
			// close table
      html += "</tbody>";
			html += "</table>";

			// insert into div
			$('#table-holder').append(html);

			$('#sensor_js_urls').dataTable( {
		                "iDisplayLength": 25,
		                "sDom": '<lfip<t>>',
                    "aaSorting": [[3, 'desc']],
		            });
		});

	</script>
  </head>
  <body>

    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
      <a class="navbar-brand" href="/">Home</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="#code">OpenWPM-Mobile <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#findings">Findings</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#data">Data</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#sensor-js-table">List of sensor accessing scripts</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#contact">Contact</a>
          </li>


        </ul>
      </div>
    </nav>

    <main role="main" class="container">
      <div class="jumbotron">
        <h1>The Web's Sixth Sense:</h1><h2>A Study of Scripts Accessing Smartphone Sensors</h2>
        <p class="lead">Companion website for the upcoming CCS'18 paper on ecosystem of scripts accessing mobile sensors.</p>
        <a class="btn btn-lg btn-primary" href="../../components/navbar/" role="button">Read the paper &raquo;</a>
      </div>

      <div id="about" class="page-header">
        <h2>About</h2>
        <p></p>
      </div>
      <p>
        The study is a collaboration of <b>Anupam Das</b><sup>1</sup>, <b>Gunes Acar</b><sup>2</sup>, <b>Nikita Borisov</b><sup>3</sup> and <b>Amogh Pradeep</b><sup>4</sup><br />
		<sup>1</sup> North Carolina State University <em>anupam.das@ncsu.edu</em><br />
		<sup>2</sup> Princeton University <em>gunes@princeton.edu</em><br />
    <sup>3</sup> University of Illinois at Urbana-Champaign <em>nikita@illinois.edu</em><br />
    <sup>4</sup> Northeastern University <em>a.pradeep@northeastern.edu</em>
      </p>
      <p><b>Reference:</b> A. Das, G. Acar, N. Borisov, A. Pradeep.
      The Web's Sixth Sense: A Study of Scripts Accessing Smartphone Sensors.
      In Proceedings of CCS 2018, Oct. 2018. (Forthcoming)
	  </p>

    <div id="code" class="page-header">
        <h2>OpenWPM-Mobile</h2>
      </div>
         The code for OpenWPM-Mobile, a mobile version of the <a href="https://github.com/citp/OpenWPM">OpenWPM</a> can be found at <a href="https://github.com/sensor-js/OpenWPM_mobile">GitHub</a>.


    <div id="data" class="page-header">
        <h2>Data</h2>
      </div>
         The data collected during the study can be downloaded at <a href="https://databank.illinois.edu/datasets">Illinois data bank</a>.


	<div id="findings" class="page-header">
		<h2>Findings</h2>
	</div>
	<br>

	<div id="prevalence-script" class="page-header">
		<h4>Sensor-accessing scripts are prevalent</h4>
	</div>

		<p>
		From our crawl results we found that sensor APIs were accessed on 3695 of the 100K websites by scripts served from 603 distinct domains. Orientation and motion sensors are by far the most frequently accessed, on 2653 and 2036 sites respectively. Light and proximity sensors, which  <strike>are</strike>were only supported by Firefox, are accessed on fewer than 200 sites each.<br>
		</p>
		<div class="row" align="center">
			<div class="column">
			<table class="table table-striped table-bordered">
			  <tr>
			    <th>Sensor</th>
			    <th>Num. of sites</th>
			    <th>Num. of script domains</th>
			  </tr>
			  <tr>
			    <td>Motion</td>
			    <td>2653</td>
			    <td>384</td>
			  </tr>
			  <tr>
			    <td>Orientation</td>
			    <td>2036</td>
			    <td>420</td>
			  </tr>
			  <tr>
			    <td>Proximity</td>
			    <td>186</td>
			    <td>50</td>
			  </tr>
			  <tr>
			    <td>Light</td>
			    <td>181</td>
			    <td>35</td>
			  </tr>
			</table>
			</div>
			<div class="column">
			    <img src="assets/images/sensor_access_site_rank_histogram.png" style="width:80%">
			</div>
		</div>


	<div id="sending-sensor-data" class="page-header">
		<h4>Scripts send sensor data to remote servers</h4>
	</div>
		<p>
		We found several scripts that access and send sensor data to remote servers either in <em>clear text</em> or in <em>base64</em> encoded form.
    To detect such exfiltrations, we analyzed HTTP request headers and POST request bodies obtained through <a href="https://github.com/sensor-js/OpenWPM_mobile">OpenWPM-Mobile</a>â€™s instrumentation.
		</p>
		<div class="col-md-7">
		<table class="table table-striped table-bordered">
		  <tr>
		    <th>Domain (PS+1)</th>
		    <th>Sensors&#42;</th>
		    <th>Encoding</th>
			<th>Num. of sites</th>
			<th>Top site</th>
		  </tr>
		  <tr>
		    <td><em>b2c.com</em></td>
		    <td>A, O, P, L</td>
		    <td>base64</td>
			<td>53</td>
			<td>reuters.com</td>
		  </tr>
		  <tr>
		    <td><em>perimeterx.net</em></td>
		    <td>A</td>
		    <td>base64</td>
			<td>45</td>
			<td>zillow.com</td>
		  </tr>
		  <tr>
		    <td><em>wayfair.com</em></td>
		    <td>A</td>
		    <td>base64</td>
			<td>7</td>
			<td>wayfair.com</td>
		  </tr>
		  <tr>
		    <td><em>moatads.com</em></td>
		    <td>O</td>
		    <td>raw</td>
			<td>5</td>
			<td>stuff.co.nz</td>
		  </tr>
		  <tr>
		    <td><em>queit.in</em></td>
		    <td>A, O</td>
		    <td>raw</td>
			<td>3</td>
			<td>busbud.com</td>
		  </tr>
		</table>
		<p>&#42; 'A': accelerometer, 'O': orientation, 'P': proximity, 'L': light</p>
		</div>


	<div id="sensor-use-case" class="page-header">
		<h4>Sensor-accessing scripts often involve in performing some combination of fingerprinting</h4>
	</div>

		<p>By clustering scripts based on features extracted from JavaScript instrumentation data, we find a significant disparity between the intended use cases of sensors (as drafted by the W3C) and real-world uses. Sensor data are commonly used for tracking and analytics, verifying ad impressions, and distinguishing real devices from bots. We also found a significant overlap between the fingerprinting scripts and the scripts accessing sensor APIs, indicating that sensor data is used for tracking purposes. For example, we found that 63% of the scripts that access motion sensors also engage in browser fingerprinting.</p>
		<div class="col-md-12">
		<table class="table table-striped table-bordered">
		  <tr>
		    <th>Use case</th>
		    <th>% of JS</th>
		    <th>Num. of sites</th>
			<th>Prominence</th>
		  </tr>
		  <tr>
		    <td>Use sensor data to add entropy to random numbers</td>
		    <td>0.4%</td>
		    <td>4</td>
			<td>0.0001</td>
		  </tr>
		  <tr>
		    <td>Checks what HTML5 features are offered</td>
		    <td>11.2%</td>
		    <td>114</td>
			<td>0.0185</td>
		  </tr>
		  <tr>
		    <td>Differentiating bots from real devices</td>
		    <td>17.7%</td>
		    <td>413</td>
			<td>0.0464</td>
		  </tr>
		  <tr>
		    <td>Parallax engine that reacts to orientation sensors</td>
		    <td>3.4%</td>
		    <td>35</td>
			<td>0.0037</td>
		  </tr>
		  <tr>
		    <td>Automatically resize contents in page or iframe</td>
		    <td>3.2%</td>
		    <td>103</td>
			<td>0.0045</td>
		  </tr>
		  <tr>
		    <td>Reacting to orientation, tilt, shake </td>
		    <td>6.7%</td>
		    <td>533</td>
			<td>0.3821</td>
		  </tr>
		  <tr>
		    <td>Tracking, analytics, fingerprinting and audience recognition</td>
		    <td>36.8%</td>
		    <td>1198</td>
			<td>0.1289</td>
		  </tr>
		  <tr>
		    <td>Scripts clustered as noisy</td>
		    <td>20.6%</td>
		    <td>1804</td>
			<td>0.1773</td>
		  </tr>
		</table>
		</div>


	<div id="efficacy-of-antitrackers" class="page-header">
		<h4>Existing ad blocking and tracking protection lists are inefficient</h4>
	</div>
		<p>
		We measure the rate of blocking by three popular tracking protection lists: EasyList, EasyPrivacy, and Disconnect. In general, we see that a significant portion of scripts that access sensors are missed by the popular blacklists, which is in line with the previous research on tracking protection lists. We found that these lists only block 2.5â€“3.3% of the scripts overall.
		</p>
		<div class="col-md-7">
		<table class="table table-striped table-bordered">
		  <tr>
		    <th>Sensor</th>
		    <th>Disconnect blocked</th>
		    <th>EasyList blocked</th>
			<th>EasyPrivacy blocked</th>
		  </tr>
		  <tr>
		    <td>Motion</td>
		    <td>1.8%</td>
			<td>1.8%</td>
		    <td>2.9%</td>
		  </tr>
		  <tr>
		    <td>Orientation</td>
		    <td>3.6%</td>
			<td>3.1%</td>
		    <td>3.1%</td>
		  </tr>
		  <tr>
		    <td>Proximity</td>
		    <td>6.0%</td>
			<td>2.0%</td>
		    <td>4.0%</td>
		  </tr>
		  <tr>
		    <td>Light</td>
		    <td>2.9%</td>
			<td>2.9%</td>
		    <td>8.6%</td>
		  </tr>
		  <tr>
		    <td>Any sensor</td>
		    <td>2.9%</td>
			<td>2.5%</td>
		    <td>3.3%</td>
		  </tr>
		</table>
		</div>


	<div id="sensor-js-table" class="page-header">
		<h2>Sensor-accessing domains</h2>
	</div>

		<p>In a crawl conducted during May 2018, scripts from the following domains were found to access various sensors when loaded on the homepage of different Alexa top 100K sites.<br></p>


		<div id="table-holder"></div>


   <div id="contact" class="page-header">
    <h2>Contact</h2>
    <div class="col-md-6">
    <table class="table table-striped table-bordered">
      <tr class="success"><td><a href="https://www.anupamdas.org/"><b>Anupam Das</b></a> </td><td> <code>anupam.das@ncsu.edu</code> </td></tr>
			<tr class="active"><td><a href="https://www.esat.kuleuven.be/cosic/people/gunes-acar/"><b>Gunes Acar</b></a> </td><td><code>gunes@princeton.edu</code></a></td></tr>
      <tr class="warning"><td><a href="https://ece.illinois.edu/directory/profile/nikita"><b>Nikita Borisov</b></a> </td><td> <code>nikita@illinois.edu</code> </td></tr>
      <tr class="danger"><td><a href="http://amoghbl1.com/"><b>Amogh Pradeep</b></a></td><td> <code>a.pradeep@northeastern.edu</code></td></tr>
    </table>
		</div>
    </div>

    </main>








  </body>
</html>
